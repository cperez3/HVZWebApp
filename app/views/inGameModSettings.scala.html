@(uname : String)(gCode: String)(status : String)(team : String)
<!DOCTYPE html>
<html class="full" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>In Game Moderator Settings</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='@routes.Assets.at("bootstrap/css/bootstrap.css")' rel="stylesheet">
      <!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>

    <![endif]-->
    <link href='@routes.Assets.at("stylesheets/styles.css")' rel="stylesheet">
      <!--favicon-->
    <link rel="icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">

  </head>
  <body>
      <!--login modal-->
    <div id="loginModal" class="modal show" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">

            <div class="col-xs-1 col-xs-offset-10"><input onclick="goBack()" type="image" class="icon icons8-Delete" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAB1ElEQVRoQ+3Z4U3DMBAF4NcJgE0YAUZgA5gMRmADGIFNgAlAh2oUuY3z3t3ZqiLnt3P25+c4jXvAzq7DzjyYoEtPdCY0Exo8A3PJAbgF8AbgGsATgJfkEB4BPAP4AnAP4EOprya0xJR+MlEFU2rLKAV0DpOJqjFL1AOAdyYpFtTCZKDWMEsDtRIYEIOJoBhMqW9JvbaSYkCfxw2ASdzaUDN5LKZg7BZ7pm6ioB9WsmjHoFRMKd8MgUnI23EL1aPmH5gBWbvMAWTWOlk8LCgL1RWjJFRmIjIgq2G/ANSLeR7/ayoJRVEqRN0xpWeoHow3KQUlJUNtgRu990S5MJ5naERSbkwGKLL7nVsAIUwWKAsVxmSCoqgUzAQ1dr2MHS8lJc+LtedOF0ZFQRnJ1BMUQkVAPTAF50Z5QT0xIZQHNALjRqkgL8aWkF0X9fkQwZTT1Ywazd/MbEKZA8msdYJjQD0G0KMm/YG3u2MsO9y7Ej41lXeImtT31qEns+TsKNgOyhmUglHPKAxzt/X3CgOyjhmUB8OiKIz6+dBCRTBbKBqjgtaSysCsoSSMB1SjMjE1SsZ4QcKGN74puymMH5mzxwlyTtyw22ZCw6ba2dFMyDlxw277BWOYeDV9EH2oAAAAAElFTkSuQmCC" width="25" height="25"/></div>
            <br>
            <br>
            <div class="col-xs-12"><h4>@uname</h4></div>
          </div>
          <div class="modal-body">
                <!-- Nav tabs -->
              <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#modStuff" aria-controls="modStuff" role="tab" data-toggle="tab">Mod Settings</a></li>
                <li role="presentation"><a href="#gameStuff" aria-controls="gameStuff" role="tab" data-toggle="tab">Game Settings</a></li>
              </ul>

                <!-- Tab panes -->
              <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active" id="modStuff">

                  <h5 class="text-center">Game Code: @gCode </h5>
                    <br><br>
                    <div class="container">

                    <div class="form-group form">
                        <button class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#endGameModal">End Game</button>
                    </div>
                    <div class="form-group">
                      <form id="add-mod-form" class="form">
                        <button class="btn btn-primary btn-lg btn-block" onclick="">Add Moderators</button>
                      </form>
                    </div>
                    <div class="form-group">
                        <form id="send-mod-msg" class="form">
                              <button class="btn btn-primary btn-lg btn-block" onclick="">Broadcast To All Players</button>
                        </form>
                    </div>

                    <div class="form-group">
                      <form id="view-players-form" class="form">
                              <button class="btn btn-primary btn-lg btn-block" onclick="">View all active players</button>
                      </form>
                    </div>

                    <div class="form-group">
                        <form id="change-mod-status-form" class="form">
                            <button class="btn btn-primary btn-lg btn-block" onclick="">Stop Moderating</button>
                                <!-- "stop moderating is a lame phrase but it's what I've got atm -->
                        </form>
                    </div>
                    <div id="drop-mod-error" class="error-msg">
                        <p>You are the only moderator, please add another moderator before switching your moderator status.</p>
                    </div>
                        </div> <!-- container within the tab -->
                </div><!-- mod-specific settings tab -->

                <div role="tabpanel" class="tab-pane fade" id="gameStuff">
                  <div class="col-xs-12 text-center"><h5>Team: @team &emsp; Status: @status</h5></div>
                  <br><br>
                    <div class="container">
                  <div class="form-group">
                    <form class="form" id="change-team-form">
                      <button class="btn btn-primary btn-lg btn-block" onclick="">Change Team</button>
                    </form>
                  </div>

                  <div class="form-group">
                    <form id="change-status-form"class="form">
                      <button class="btn btn-primary btn-lg btn-block" onclick="">Change Player Status</button>
                    </form>
                  </div>
                  <div class="form-group">
                    <form id="log-out-form"class="form">
                      <button id="log-out" class="btn btn-primary btn-lg btn-block" onclick="logOut()">Log Out</button>
                    </form>
                  </div>
                  <div class="form-group form">
                      <button class="btn btn-primary btn-lg btn-block"  data-toggle="modal" data-target="#delAcctModal">Delete Account</button>
                  </div>
                        </div> <!-- container within regular game settings -->

                </div><!-- in game settings tab -->

              </div><!-- end of tab-related content -->


            <!-- Delete Account Modal -->
             <div class="modal fade" id="delAcctModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Really Delete?</h4>
                        </div>
                        <div class="modal-body">
                            <p class="warning">Deleting your account is a permanent decision. This cannot be undone. Are you sure?</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-primary" id="delete-button">Delete Account</button>
                        </div>
                    </div>
                    </div>
                </div>
                 <!-- end of delete account modal -->
              <!-- End Game Modal -->
              <div class="modal fade" id="endGameModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                  <div class="modal-dialog" role="document">
                      <div class="modal-content">
                          <div class="modal-header">
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                              <h4 class="modal-title" id="myModalLabel">Really Delete?</h4>
                          </div>
                          <div class="modal-body">
                              <p class="warning">A game cannot be resumed once it has ended. Ending cannot be undone. Are you sure?</p>
                          </div>
                          <div class="modal-footer">
                              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                              <button type="button" class="btn btn-primary" id="end-game-button">End Game</button>
                          </div>
                      </div>
                  </div>
              </div>
                  <!-- end of end game modal -->
          </div> <!-- end of modal-body div for overall page -->


        </div> <!-- end of  modal contet div for overall page -->
      </div>
     </div>

      <!-- script references -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src='@routes.Assets.at("bootstrap/js/bootstrap.min.js")'></script>
    <script type="text/javascript" src='@routes.Application.javascriptRoutes()'></script>
    <script>
          function loadSettings(){
            window.location.href=@routes.GamePage.loadSettings();

          }
          function goBack(){
            //TO DO: If user is moderator it should go back to the Mod Page
            window.location.href=@routes.GamePage.loadPage();

          }
          $("#change-mod-status-form").on('submit', function(e) {
            e.preventDefault();
            //console.log("mod stat button pressed!");

            myJsRoutes.controllers.GamePage.verifyChangeModStatus().ajax({
              success : function(data) {
                console.log(data);
                //figure out how to tell if user is in game or not
                window.location.href=@routes.GamePage.loadSettings();

              },
              error: function(XMLHttpRequest, textStatus, errorThrown) {
                //alert("There must be another moderator before you may step down.");
                $("#drop-mod-error").slideDown();
                //document.getElementById('no-user-message').style.borderColor = "red";
                //document.getElementById('no-user-message').style.display= 'block';
              }

            });


          });

          $("#log-out-form").on('submit', function(a) {
            a.preventDefault();
            window.location.href=@routes.GamePage.logOut();
          });
          $("#add-mod-form").on('submit', function(a) {
            a.preventDefault();
            window.location.href=@routes.GamePage.loadAddModPage();
          });
          $("#send-mod-msg").on('submit', function(a) {
            a.preventDefault();
            window.location.href=@routes.GamePage.loadinGameModMessagePage();
          });
          $("#view-players-form").on('submit', function(a) {
              a.preventDefault();
              window.location.href=@routes.GamePage.loadviewPlayersPage();
          });
          $("#end-game-button").on('click', function(a) {
            a.preventDefault();
            window.location.href=@routes.GamePage.endGame();
          });
          $("#change-status-form").on('submit', function(a){
            a.preventDefault();
            window.location.href=@routes.GamePage.changeActiveStatus();
          });
          $("#change-team-form").on('submit', function(a){
            a.preventDefault();
            window.location.href=@routes.GamePage.changeTeam();
          });
          $("#delete-button").on('click', function(a) {
            a.preventDefault();
            window.location.href=@routes.GamePage.deactivateAccount();
          });




    </script>
  </body>
</html>




